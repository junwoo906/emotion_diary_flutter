# ğŸ­ AI ê°ì • ë¶„ì„ ë‹¤ì´ì–´ë¦¬ ì•±

**ê¸°ì—°í”„ 28ì¡°** - AIë¥¼ í™œìš©í•œ ê°ì • ë¶„ì„ ë° í”¼ë“œë°± ì œê³µ ë‹¤ì´ì–´ë¦¬ ì•±

[![Flutter](https://img.shields.io/badge/Flutter-3.9.2-02569B?logo=flutter)](https://flutter.dev)
[![Dart](https://img.shields.io/badge/Dart-3.9.2-0175C2?logo=dart)](https://dart.dev)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ì‚¬ìš©ìê°€ ì‘ì„±í•œ ì¼ê¸°ë¥¼ AIê°€ ë¶„ì„í•˜ì—¬ ê°ì • ìƒíƒœë¥¼ íŒŒì•…í•˜ê³ , ê°œì¸í™”ëœ í”¼ë“œë°±ì„ ì œê³µí•˜ëŠ” Flutter ì•±ì…ë‹ˆë‹¤.

### ğŸ¯ ì£¼ìš” ê¸°ëŠ¥
- ğŸ“ **ì¼ê¸° ì‘ì„±**: ì§ê´€ì ì¸ UIë¡œ í•˜ë£¨ ê°ì • ê¸°ë¡
- ğŸ¤– **AI ê°ì • ë¶„ì„**: í…ìŠ¤íŠ¸ ê¸°ë°˜ ê°ì • ìƒíƒœ ë¶„ì„
- ğŸ“Š **ê°ì • í†µê³„**: ì‹œê°„ëŒ€ë³„ ê°ì • ë³€í™” ì‹œê°í™”
- ğŸ’¬ **ë§ì¶¤ í”¼ë“œë°±**: AI ê¸°ë°˜ ê°œì¸í™”ëœ ì¡°ì–¸ ë° ê²©ë ¤
- ğŸ” **Google ë¡œê·¸ì¸**: ì•ˆì „í•œ ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ

## ğŸ—ï¸ í˜„ì¬ êµ¬í˜„ ìƒíƒœ

### âœ… **ì™„ë£Œëœ ê¸°ëŠ¥** (2025.11.01)
- ğŸ” **ì™„ì „í•œ ë¡œê·¸ì¸ ì‹œìŠ¤í…œ**
  - Google OAuth ê¸°ë°˜ ì¸ì¦
  - JWT í† í° ì„¸ì…˜ ê´€ë¦¬
  - Mock ëª¨ë“œ ì§€ì› (ë°±ì—”ë“œ ë…ë¦½ì  ê°œë°œ)
  - ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ í”Œë¡œìš°
  - ì‚¬ìš©ì í”„ë¡œí•„ í‘œì‹œ

### ğŸ”„ **ì§„í–‰ ì˜ˆì •** 
- ğŸ“¡ FastAPI ë°±ì—”ë“œ ì—°ë™
- ğŸ“ ì¼ê¸° CRUD ê¸°ëŠ¥
- ğŸ¤– AI ê°ì • ë¶„ì„ ì—°ë™
- ğŸ“Š í†µê³„ ë° ì°¨íŠ¸ ê¸°ëŠ¥

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1ï¸âƒ£ í”„ë¡œì íŠ¸ í´ë¡  ë° ì„¤ì •
```bash
git clone https://github.com/junwoo906/emotion_diary_flutter.git
cd emotion_diary_flutter
flutter pub get
```

### 2ï¸âƒ£ ì•± ì‹¤í–‰
```bash
# Chromeì—ì„œ ì‹¤í–‰ (ê¶Œì¥)
flutter run -d chrome

# Windowsì—ì„œ ì‹¤í–‰ (ê°œë°œì ëª¨ë“œ í•„ìš”)
flutter run -d windows
```

### 3ï¸âƒ£ í…ŒìŠ¤íŠ¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
- ì•± ì‹¤í–‰ í›„ **"í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸í•˜ê¸°"** ë²„íŠ¼ í´ë¦­
- Mock ë°ì´í„°ë¡œ ì „ì²´ í”Œë¡œìš° ì²´í—˜ ê°€ëŠ¥

## ğŸ‘¥ íŒ€ ì—­í•  ë¶„ë‹´

| ì—­í•  | ë‹´ë‹¹ì | ìƒíƒœ |
|------|--------|------|
| **Frontend (Flutter)** | junwoo906 | âœ… ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ì™„ë£Œ |
| **Backend (FastAPI)** | íŒ€ì›ë“¤ | ğŸ”„ API ê°œë°œ ì¤‘ |
| **AI ëª¨ë¸** | íŒ€ì›ë“¤ | ğŸ”„ ê°ì • ë¶„ì„ ëª¨ë¸ ê°œë°œ ì¤‘ |

## ğŸ”— ë°±ì—”ë“œ íŒ€ì„ ìœ„í•œ API ëª…ì„¸

### ğŸ“¡ **í•„ìš”í•œ API ì—”ë“œí¬ì¸íŠ¸**

#### ğŸ” **ì¸ì¦ ê´€ë ¨**
```http
POST /api/auth/google
Content-Type: application/json

# ìš”ì²­
{
  "google_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6...",
  "access_token": "ya29.a0ARrdaM_abc123...",
  "name": "í™ê¸¸ë™",
  "email": "user@example.com", 
  "profile_image": "https://example.com/avatar.jpg"
}

# ì‘ë‹µ (ì„±ê³µ)
{
  "jwt_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "user": {
    "id": "user_123", 
    "name": "í™ê¸¸ë™",
    "email": "user@example.com",
    "profile_image": "https://example.com/avatar.jpg"
  }
}

# ì‘ë‹µ (ì‹¤íŒ¨)
{
  "error": "invalid_token",
  "message": "Google í† í°ì´ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤"
}
```

```http
POST /api/auth/refresh
Authorization: Bearer {jwt_token}

# ì‘ë‹µ
{
  "jwt_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
}
```

#### ğŸ‘¤ **ì‚¬ìš©ì ê´€ë ¨**
```http
GET /api/user/profile
Authorization: Bearer {jwt_token}

# ì‘ë‹µ
{
  "id": "user_123",
  "name": "í™ê¸¸ë™", 
  "email": "user@example.com",
  "profile_image": "https://example.com/avatar.jpg",
  "created_at": "2025-11-01T10:00:00Z",
  "diary_count": 15,
  "last_login": "2025-11-01T15:30:00Z"
}
```

#### ğŸ“ **ì¼ê¸° ê´€ë ¨**
```http
POST /api/diary
Authorization: Bearer {jwt_token}
Content-Type: application/json

# ìš”ì²­
{
  "content": "ì˜¤ëŠ˜ì€ ì •ë§ ì¢‹ì€ í•˜ë£¨ì˜€ë‹¤. ì¹œêµ¬ë“¤ê³¼ ì¦ê±°ìš´ ì‹œê°„ì„ ë³´ëƒˆê³ ...",
  "date": "2025-11-01T10:00:00Z"
}

# ì‘ë‹µ
{
  "diary_id": 123,
  "content": "ì˜¤ëŠ˜ì€ ì •ë§ ì¢‹ì€ í•˜ë£¨ì˜€ë‹¤...",
  "date": "2025-11-01T10:00:00Z",
  "created_at": "2025-11-01T10:05:00Z",
  "user_id": "user_123"
}
```

```http
GET /api/diaries/recent?limit=5
Authorization: Bearer {jwt_token}

# ì‘ë‹µ
{
  "diaries": [
    {
      "diary_id": 123,
      "content": "ì˜¤ëŠ˜ì€ ì •ë§ ì¢‹ì€ í•˜ë£¨ì˜€ë‹¤...",
      "date": "2025-11-01T10:00:00Z", 
      "emotion_summary": {
        "primary_emotion": "happiness",
        "confidence": 0.85
      }
    }
  ],
  "total_count": 15,
  "page": 1
}
```

```http
GET /api/diary/{diary_id}
Authorization: Bearer {jwt_token}

# ì‘ë‹µ
{
  "diary_id": 123,
  "content": "ì˜¤ëŠ˜ì€ ì •ë§ ì¢‹ì€ í•˜ë£¨ì˜€ë‹¤...",
  "date": "2025-11-01T10:00:00Z",
  "created_at": "2025-11-01T10:05:00Z",
  "emotion_analysis": {
    "primary_emotion": "happiness",
    "emotion_scores": {
      "happiness": 0.85,
      "sadness": 0.05,
      "anger": 0.02,
      "fear": 0.03,
      "surprise": 0.05
    },
    "keywords": ["ì¢‹ì€", "í•˜ë£¨", "ì¹œêµ¬", "ì¦ê±°ìš´"],
    "confidence_score": 0.92
  }
}
```

#### ğŸ¤– **AI ê°ì • ë¶„ì„ ê´€ë ¨**
```http
POST /api/emotion/analyze
Authorization: Bearer {jwt_token}
Content-Type: application/json

# ìš”ì²­
{
  "diary_id": 123,
  "content": "ì˜¤ëŠ˜ì€ ì •ë§ ì¢‹ì€ í•˜ë£¨ì˜€ë‹¤..."
}

# ì‘ë‹µ
{
  "analysis_id": "analysis_456",
  "diary_id": 123,
  "primary_emotion": "happiness",
  "emotion_scores": {
    "happiness": 0.85,
    "sadness": 0.05, 
    "anger": 0.02,
    "fear": 0.03,
    "surprise": 0.05
  },
  "keywords": ["ì¢‹ì€", "í•˜ë£¨", "ì¹œêµ¬", "ì¦ê±°ìš´"],
  "confidence_score": 0.92,
  "analyzed_at": "2025-11-01T10:10:00Z"
}
```

```http
POST /api/feedback/generate
Authorization: Bearer {jwt_token}
Content-Type: application/json

# ìš”ì²­
{
  "diary_id": 123,
  "emotion_analysis": {
    "primary_emotion": "happiness",
    "emotion_scores": {...}
  }
}

# ì‘ë‹µ  
{
  "feedback_id": "feedback_789",
  "message": "ê¸ì •ì ì¸ ê°ì •ì´ ì˜ í‘œí˜„ëœ ì¼ê¸°ë„¤ìš”! ì¹œêµ¬ë“¤ê³¼ì˜ ì†Œì¤‘í•œ ì‹œê°„ì„ ê¸°ë¡í•´ì£¼ì…”ì„œ ì¢‹ìŠµë‹ˆë‹¤.",
  "suggestions": [
    "ì´ëŸ° ì¦ê±°ìš´ ìˆœê°„ë“¤ì„ ë” ìì£¼ ë§Œë“¤ì–´ë³´ì„¸ìš”",
    "ê°ì‚¬í•œ ë§ˆìŒì„ í‘œí˜„í•˜ëŠ” ìŠµê´€ì„ ê°€ì ¸ë³´ì„¸ìš”"
  ],
  "mood_tips": "í–‰ë³µí•œ ê°ì •ì„ ì§€ì†í•˜ê¸° ìœ„í•´ ê·œì¹™ì ì¸ ìš´ë™ê³¼ ì¶©ë¶„í•œ ìˆ˜ë©´ì„ ê¶Œí•©ë‹ˆë‹¤.",
  "generated_at": "2025-11-01T10:15:00Z"
}
```

#### ğŸ“Š **í†µê³„ ê´€ë ¨**
```http
GET /api/statistics/weekly
Authorization: Bearer {jwt_token}

# ì‘ë‹µ
{
  "period": {
    "start_date": "2025-10-26",
    "end_date": "2025-11-01"  
  },
  "emotion_distribution": {
    "happiness": 0.45,
    "sadness": 0.15,
    "anger": 0.10,
    "fear": 0.15,
    "surprise": 0.15
  },
  "daily_emotions": [
    {
      "date": "2025-10-26",
      "primary_emotion": "happiness",
      "average_score": 0.8,
      "diary_count": 1
    }
  ],
  "total_diaries": 7,
  "most_frequent_keywords": ["ì¢‹ì€", "í•˜ë£¨", "ì¹œêµ¬"]
}
```

### ğŸ”’ **ì¸ì¦ ë° ë³´ì•ˆ**

#### JWT í† í° í˜•ì‹
```
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...
```

#### ì—ëŸ¬ ì‘ë‹µ í˜•ì‹
```json
{
  "error": "error_code",
  "message": "ì‚¬ìš©ì ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€",
  "details": "ê°œë°œììš© ìƒì„¸ ì •ë³´ (optional)"
}
```

#### HTTP ìƒíƒœ ì½”ë“œ
- `200`: ì„±ê³µ
- `201`: ìƒì„± ì„±ê³µ
- `400`: ì˜ëª»ëœ ìš”ì²­
- `401`: ì¸ì¦ ì‹¤íŒ¨
- `403`: ê¶Œí•œ ì—†ìŒ
- `404`: ë¦¬ì†ŒìŠ¤ ì—†ìŒ
- `500`: ì„œë²„ ì—ëŸ¬

## ğŸ› ï¸ ê°œë°œ í™˜ê²½ ì„¤ì •

### ğŸ“‹ **ìš”êµ¬ ì‚¬í•­**
- Flutter SDK 3.9.2+
- Dart 3.9.2+
- Chrome ë¸Œë¼ìš°ì € (ì›¹ í…ŒìŠ¤íŠ¸ìš©)

### ğŸ“¦ **ì£¼ìš” íŒ¨í‚¤ì§€**
```yaml
dependencies:
  google_sign_in: ^6.2.1      # Google ë¡œê·¸ì¸
  shared_preferences: ^2.2.2   # ë¡œì»¬ ë°ì´í„° ì €ì¥  
  http: ^1.1.0                # HTTP í†µì‹ 
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
lib/
â”œâ”€â”€ main.dart                 # ë©”ì¸ ì•± + ë¼ìš°íŒ…
â”œâ”€â”€ models/
â”‚   â””â”€â”€ user.dart             # ì‚¬ìš©ì ë°ì´í„° ëª¨ë¸
â”œâ”€â”€ services/  
â”‚   â””â”€â”€ auth_service.dart     # ì¸ì¦ ì„œë¹„ìŠ¤ (Mock + Real ëª¨ë“œ)
â”œâ”€â”€ screens/
â”‚   â””â”€â”€ login_screen.dart     # ë¡œê·¸ì¸ í™”ë©´
â””â”€â”€ widgets/
    â””â”€â”€ auth_wrapper.dart     # ì¸ì¦ ìƒíƒœ ê´€ë¦¬ ìœ„ì ¯
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1ï¸âƒ£ **í˜„ì¬ í…ŒìŠ¤íŠ¸ (Mock ëª¨ë“œ)**
```bash
flutter run -d chrome
```
- âœ… ë¡œê·¸ì¸ í™”ë©´ â†’ í…ŒìŠ¤íŠ¸ ë¡œê·¸ì¸ â†’ í™ˆ í™”ë©´ ì´ë™
- âœ… ì‚¬ìš©ì í”„ë¡œí•„ ì •ë³´ í‘œì‹œ
- âœ… ë¡œê·¸ì•„ì›ƒ â†’ ë¡œê·¸ì¸ í™”ë©´ ë³µê·€
- âœ… ì•± ì¬ì‹œì‘ í›„ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€

### 2ï¸âƒ£ **ë°±ì—”ë“œ ì—°ë™ í›„ í…ŒìŠ¤íŠ¸**
`lib/services/auth_service.dart`ì—ì„œ ì„¤ì • ë³€ê²½:
```dart
static const bool _isTestMode = false; // true â†’ false
```

## ğŸ¤ ë°±ì—”ë“œ íŒ€ê³¼ì˜ í˜‘ì—…

### ğŸ”„ **í˜„ì¬ ìƒí™©**
- âœ… **í”„ë¡ íŠ¸ì—”ë“œ**: ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ì™„ë£Œ
- ğŸ”„ **ë°±ì—”ë“œ**: API ì—”ë“œí¬ì¸íŠ¸ ê°œë°œ í•„ìš”
- ğŸ”„ **AI**: ê°ì • ë¶„ì„ ëª¨ë¸ ê°œë°œ í•„ìš”

### ğŸ“ **í˜‘ì˜ í•„ìš” ì‚¬í•­**
1. **API ë² ì´ìŠ¤ URL**: ê°œë°œ/ìŠ¤í…Œì´ì§•/í”„ë¡œë•ì…˜ í™˜ê²½
2. **JWT í† í° ìŠ¤í™**: ë§Œë£Œ ì‹œê°„, ê°±ì‹  ì •ì±…
3. **Google OAuth**: ì„œë²„ì—ì„œ í† í° ê²€ì¦ ë°©ì‹
4. **CORS ì„¤ì •**: Flutter ì›¹ ì§€ì›
5. **ì—ëŸ¬ ì²˜ë¦¬**: í‘œì¤€ ì—ëŸ¬ ì½”ë“œ ë° ë©”ì‹œì§€

### ğŸš€ **ì—°ë™ ì¤€ë¹„ ì™„ë£Œ**
í”„ë¡ íŠ¸ì—”ë“œëŠ” ë°±ì—”ë“œ APIê°€ ì¤€ë¹„ë˜ëŠ” ì¦‰ì‹œ ì—°ë™ ê°€ëŠ¥í•œ ìƒíƒœì…ë‹ˆë‹¤!

## ğŸ“ ë¬¸ì˜ ë° ì§€ì›

- **í”„ë¡ íŠ¸ì—”ë“œ ë‹´ë‹¹**: [@junwoo906](https://github.com/junwoo906)
- **í”„ë¡œì íŠ¸ ì´ìŠˆ**: [GitHub Issues](https://github.com/junwoo906/emotion_diary_flutter/issues)
- **ê°œë°œ ê°€ì´ë“œ**: [agent.md](./agent.md)

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.
